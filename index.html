<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG Premium Panel</title>
    <style>
        body { background-color: #050505; color: #ff9800; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 15px; }
        .panel-container { 
            width: 100%; max-width: 420px; margin: 20px auto; padding: 20px; 
            border: 1px solid #ff9800; border-radius: 20px; background: #0f0f0f;
            box-sizing: border-box; box-shadow: 0 0 25px rgba(255, 152, 0, 0.2);
        }
        .title { text-align: center; font-size: 22px; letter-spacing: 3px; margin-bottom: 20px; text-shadow: 0 0 10px #ff9800; text-transform: uppercase; }
        label { display: block; margin-top: 15px; font-size: 11px; color: #888; text-transform: uppercase; }
        select, input { 
            width: 100%; padding: 12px; margin-top: 5px; box-sizing: border-box;
            background: #181818; border: 1px solid #333; color: #fff; border-radius: 10px; font-size: 14px;
        }
        .total-section { 
            background: #ff9800; color: #000; padding: 15px; 
            margin-top: 20px; text-align: center; font-weight: bold; border-radius: 12px; font-size: 18px;
        }
        .btn-generate { 
            width: 100%; padding: 16px; margin-top: 15px; 
            background: #ff9800; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; color: #000;
        }

        /* Key Kartı Tasarımı */
        .key-list-area { margin-top: 25px; border-top: 1px solid #222; padding-top: 15px; }
        .key-item { 
            background: #151515; padding: 15px; margin-bottom: 12px; 
            border-radius: 15px; border: 1px solid #222; border-left: 6px solid #ff9800;
            display: flex; flex-direction: column; position: relative;
        }
        .key-text { 
            color: #fff; font-size: 12px; font-family: 'Courier New', monospace; 
            word-break: break-all; margin-bottom: 10px; line-height: 1.5; padding-right: 75px;
        }
        .key-sub { font-size: 11px; color: #888; }
        .usage-count { color: #00ff00; font-weight: bold; } /* */
        .deactivate-btn { 
            position: absolute; right: 10px; top: 10px;
            background: #d32f2f; color: white; border: none; 
            padding: 6px 12px; border-radius: 8px; font-size: 11px; cursor: pointer;
        }
        .btn-nav { background: none; border: none; color: #444; width: 100%; margin-top: 20px; cursor: pointer; text-decoration: underline; font-size: 12px; }
    </style>
</head>
<body>

<div class="panel-container" id="user-page">
    <h2 class="title">KEY GEN</h2>
    
    <label>Games</label>
    <select id="game-select">
        <option value="PUBG MOBILE">PUBG MOBILE</option>
        <option value="PUBG MOBILE LITE">PUBG MOBILE LITE</option>
    </select>

    <label>Duration Of Key</label>
    <select id="duration-select" onchange="updatePrice()">
        <option value="2H" data-price="0">2 Hour - Free</option>
        <option value="5H" data-price="0">5 Hour - Free</option>
        <option value="1D" data-price="3">1 Day - $3</option>
        <option value="1W" data-price="12">1 Week - $12</option>
        <option value="1M" data-price="25">1 Month - $25</option>
    </select>

    <label>Max Devices (Cihaz Sınırı)</label>
    <input type="number" id="max-devices" value="100">

    <label>Enter Bulk Key Number</label>
    <input type="number" id="bulk-number" value="1">

    <div class="total-section">TOTAL PRICE: $<span id="total-price">0</span></div>

    <button class="btn-generate" onclick="generateUserKey()">GENERATE KEY</button>
    
    <div class="key-list-area" id="user-key-list"></div>
    <button class="btn-nav" onclick="switchPage('admin-page')">Admin/Özel Panele Geç →</button>
</div>

<div class="panel-container" id="admin-page" style="display:none; border-color: #4CAF50;">
    <h2 class="title" style="color: #4CAF50;">ADMIN CONTROL</h2>
    <label>Özel Key İsmi Yaz</label>
    <input type="text" id="custom-key-name" placeholder="Örn: ADMIN-KEY-99">
    <label>Süre Seçeneği</label>
    <select id="custom-duration-select">
        <option value="2 Saat">2 Saat</option>
        <option value="1 Gün">1 Gün</option>
        <option value="1 Hafta">1 Hafta</option>
    </select>
    <label>Cihaz Sınırı</label>
    <input type="number" id="admin-device-limit" value="100">
    <button class="btn-generate" style="background: #4CAF50; color: white;" onclick="createAdminKey()">ÖZEL KEY OLUŞTUR</button>
    <div class="key-list-area" id="admin-key-list"></div>
    <button class="btn-nav" onclick="switchPage('user-page')">← Satın Alma Sayfasına Dön</button>
</div>

<script>
    function updatePrice() {
        const ds = document.getElementById('duration-select');
        document.getElementById('total-price').innerText = ds.options[ds.selectedIndex].getAttribute('data-price');
    }

    function switchPage(p) {
        document.getElementById('user-page').style.display = p === 'user-page' ? 'block' : 'none';
        document.getElementById('admin-page').style.display = p === 'admin-page' ? 'block' : 'none';
    }

    // Rastgele Karakter Üretme (Numune uzunluğu için)
    function randomString(len) {
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let res = '';
        for (let i = 0; i < len; i++) res += chars.charAt(Math.floor(Math.random() * chars.length));
        return res;
    }

    function randomPass(len) {
        const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let res = '';
        for (let i = 0; i < len; i++) res += chars.charAt(Math.floor(Math.random() * chars.length));
        return res;
    }

    function addKeyToList(keyFull, durationLabel, limit, listId) {
        const div = document.createElement('div');
        div.className = 'key-item';
        div.innerHTML = `
            <div class="key-top">
                <span class="key-text">${keyFull}</span>
                <button class="deactivate-btn" onclick="this.parentElement.parentElement.remove()">Deaktif Et</button>
            </div>
            <div class="key-sub">${durationLabel} | <span class="usage-count">0/${limit} Cihaz</span></div>
        `;
        document.getElementById(listId).prepend(div);
    }

    function generateUserKey() {
        const dur = document.getElementById('duration-select').value;
        const durText = document.getElementById('duration-select').options[document.getElementById('duration-select').selectedIndex].text.split(' -')[0];
        const limit = document.getElementById('max-devices').value;
        const bulk = document.getElementById('bulk-number').value;

        for (let i = 0; i < bulk; i++) {
            // Örnek: PG-1D-GR1RBITOP5TLZIABGU03:OnxN39zM
            const midCode = randomString(20); // Orta kısım uzunluğu
            const passCode = randomPass(8);   // Şifre kısmı uzunluğu
            const finalKey = `PG-${dur}-${midCode}:${passCode}`;
            addKeyToList(finalKey, durText, limit, 'user-key-list');
        }
    }

    function createAdminKey() {
        const name = document.getElementById('custom-key-name').value;
        const dur = document.getElementById('custom-duration-select').value;
        const limit = document.getElementById('admin-device-limit').value;
        if(!name) return alert("İsim yaz!");
        addKeyToList(name, dur, limit, 'admin-key-list');
    }
</script>
</body>
</html>
