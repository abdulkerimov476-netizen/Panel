<div class="panel-container" id="admin-page" style="display:none; border-color: #4CAF50;">
    <h2 class="title" style="color: #4CAF50;">ADMIN CONTROL PANEL</h2>

    <label>Özel Key İsmi Yaz</label>
    <input type="text" id="custom-key-name" placeholder="Örn: VIP-PLAYER-01">

    <label>Süre Seçeneği</label>
    <select id="custom-duration-select">
        <option value="2 Saat">2 Saat</option>
        <option value="4 Saat">4 Saat</option>
        <option value="6 Saat">6 Saat</option>
        <option value="1 Gün">1 Gün</option>
        <option value="2 Gün">2 Gün</option>
        <option value="1 Hafta">1 Hafta</option>
        <option value="1 Ay">1 Ay</option>
    </select>

    <label>Cihaz Sınırı (Limit)</label>
    <input type="number" id="admin-device-limit" value="100">

    <button class="btn-generate" style="background: #4CAF50; color: white;" onclick="createAdminKey()">ÖZEL KEY OLUŞTUR</button>

    <div class="key-list-area" id="admin-key-list">
        <h3 style="font-size: 14px; border-bottom: 1px solid #333; margin-bottom: 10px;">Aktif Keyler ve Cihaz Durumu</h3>
        </div>

    <button class="btn-nav" onclick="switchPage('user-page')">← Satın Alma Sayfasına Dön</button>
</div>

<script>
    // Fiyatı sadece süreye göre belirle (Cihaz sayısıyla çarpılmaz)
    function updatePrice() {
        const durationSelect = document.getElementById('duration-select');
        const price = durationSelect.options[durationSelect.selectedIndex].getAttribute('data-price');
        document.getElementById('total-price').innerText = price;
    }

    // Sayfalar arası geçiş
    function switchPage(pageId) {
        document.getElementById('user-page').style.display = pageId === 'user-page' ? 'block' : 'none';
        document.getElementById('admin-page').style.display = pageId === 'admin-page' ? 'block' : 'none';
    }

    // Ortak Key Oluşturma Fonksiyonu (Deaktif Et ve Cihaz Sayacı İçerir)
    function addKeyToList(name, duration, limit, listId) {
        // Cihaz kullanımını simüle etmek için rastgele bir sayı (Örn: 0)
        const currentUsage = 0; 
        
        const keyDiv = document.createElement('div');
        keyDiv.className = 'key-item';
        keyDiv.innerHTML = `
            <div class="key-info">
                <span class="key-text"><strong>${name}</strong></span>
                <span class="key-sub">${duration} | <span class="usage-count">${currentUsage}/${limit} Cihaz</span></span>
            </div>
            <button class="deactivate-btn" onclick="this.parentElement.remove()">Deaktif Et</button>
        `;
        document.getElementById(listId).appendChild(keyDiv);
    }

    // Kullanıcı Sayfası Key Üretimi
    function generateUserKey() {
        const duration = document.getElementById('duration-select').value;
        const limit = document.getElementById('max-devices').value;
        const bulk = document.getElementById('bulk-number').value;

        for (let i = 0; i < bulk; i++) {
            const randomID = Math.random().toString(36).substring(2, 8).toUpperCase();
            addKeyToList("PUBG-" + randomID, duration, limit, 'user-key-list');
        }
    }

    // Admin Sayfası Key Üretimi (Yeni süre listesiyle)
    function createAdminKey() {
        const name = document.getElementById('custom-key-name').value;
        const duration = document.getElementById('custom-duration-select').value;
        const limit = document.getElementById('admin-device-limit').value;

        if(!name) return alert("Lütfen anahtar ismi girin!");
        
        addKeyToList(name, duration, limit, 'admin-key-list');
    }
</script>

<style>
    /* Görseldeki temaya uygun CSS (Siyah & Turuncu & Yeşil) */
    body { background-color: #050505; color: #ff9800; font-family: sans-serif; }
    .panel-container { 
        width: 350px; margin: 15px auto; padding: 20px; 
        border: 1px solid #ff9800; border-radius: 15px; background: #111;
    }
    .title { text-align: center; font-size: 18px; margin-bottom: 15px; }
    label { display: block; margin-top: 10px; font-size: 12px; color: #777; }
    select, input { 
        width: 100%; padding: 10px; margin-top: 5px; box-sizing: border-box;
        background: #1c1c1c; border: 1px solid #333; color: #fff; border-radius: 8px;
    }
    .total-section { 
        background: #ff9800; color: #000; padding: 10px; 
        margin-top: 15px; text-align: center; font-weight: bold; border-radius: 8px;
    }
    .btn-generate { 
        width: 100%; padding: 12px; margin-top: 10px; 
        background: #ff9800; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;
    }
    .key-list-area { margin-top: 15px; }
    .key-item { 
        display: flex; justify-content: space-between; align-items: center;
        background: #181818; padding: 8px; margin-bottom: 6px; 
        border-radius: 6px; border-left: 3px solid #ff9800;
    }
    .key-info { display: flex; flex-direction: column; }
    .key-text { color: #fff; font-size: 13px; }
    .key-sub { color: #888; font-size: 10px; }
    .usage-count { color: #00ff00; font-weight: bold; }
    .deactivate-btn { 
        background: #c62828; color: white; border: none; 
        padding: 4px 8px; border-radius: 4px; font-size: 10px; cursor: pointer;
    }
    .btn-nav { background: none; border: none; color: #444; width: 100%; margin-top: 10px; cursor: pointer; text-decoration: underline; font-size: 11px; }
</style>
